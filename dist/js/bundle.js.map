{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/modules/cards.js","webpack:///./src/js/modules/getTicket.js","webpack:///./src/js/modules/humburger.js","webpack:///./src/js/script.js"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS,OAAO,SAAS;AAC1C,iCAAiC,WAAW;AAC5C;AACA,gCAAgC,WAAW;AAC3C,6BAA6B,UAAU;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,Y;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,Y;;AAEA;;AAEe,oEAAK,E;;;;;;;;;;;;ACjEpB;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;;AAEA;AACA,8C;AACA,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,2C;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,eAAe,uBAAuB,kDAAkD,WAAW;AACnG;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,YAAY;AACtF;AACA;AACA;AACA;AACA,8EAA8E,iBAAiB;AAC/F;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,yCAAyC;AAC1D;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;;AAEA,uCAAuC,cAAc,UAAU,mBAAmB,eAAe,iBAAiB,qBAAqB,OAAO;;AAE9I;AACA;AACA,IAAI;;AAEJ,GAAG;AACH;AACA;AACA,G;AACA,EAAE;;AAEF;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACe,wEAAS,E;;;;;;;;;;;;AC/QxB;AAAA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,KAAK;AACL;;AAEe,wEAAS,E;;;;;;;;;;;;ACdxB;AAAA;AAAA;AAAA;AAA4C;AACR;AACQ;;AAE5C;AACA;AACA,CAAC,8DAAK;AACN,CAAC,kEAAS;AACV,CAAC,kEAAS;;AAEV,CAAC,E","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/script.js\");\n","function cards() {\r\n    \r\n    class Card {\r\n\t\tconstructor (src, alt, price, title, desc, parentSelector) {\r\n\t\t\tthis.src = src;\r\n\t\t\tthis.alt = alt;\r\n\t\t\tthis.price = price;\r\n\t\t\tthis.title = title;\r\n\t\t\tthis.desc = desc;\r\n\t\t\tthis.parent = document.querySelector(parentSelector);\r\n\t\t}\r\n\t\trender() {\r\n\t\t\tconst element = document.createElement('div');\r\n\t\t\telement.innerHTML = `\r\n\t\t\t\t<div class=\"card\">\r\n\t\t\t\t\t<div class=\"card__img-wrap\">\r\n\t\t\t\t\t\t<img src=${this.src} alt=${this.alt} class=\"card__img\">\r\n\t\t\t\t\t\t<div class=\"card__price\">${this.price}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"card__title\">${this.title}</div>\r\n\t\t\t\t\t<p class=\"card__desc\">${this.desc}</p>\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\t\t\tthis.parent.append(element);\r\n\t\t}\r\n\t}\r\n\r\n\tnew Card(\r\n\t\t\"img/img1.jpg\",\r\n\t\t\"img\",\r\n\t\t'$1,095',\r\n\t\t'Удивительная Австралия',\r\n\t\t'Вдохновитесь путешествием в Австралию. Откройте для себя фантастические вещи и места, чтобы пойти.',\r\n\t\t'.destination__block'\r\n\t).render();\r\n\r\n\tnew Card(\r\n\t\t\"img/img2.jpg\",\r\n\t\t\"img\",\r\n\t\t'$1,295',\r\n\t\t'древняя южная америка',\r\n\t\t'Вдохновитесь путешествием в Австралию. Откройте для себя фантастические вещи и места, чтобы пойти.',\r\n\t\t'.destination__block'\r\n\t).render();\r\n\r\n\tnew Card(\r\n\t\t\"img/img3.jpg\",\r\n\t\t\"img\",\r\n\t\t'$695',\r\n\t\t'современная северная америка',\r\n\t\t'Вдохновитесь путешествием в Австралию. Откройте для себя фантастические вещи и места, чтобы пойти.',\r\n\t\t'.destination__block'\r\n\t).render();\t\r\n\r\n\tnew Card(\r\n\t\t\"img/img4.jpg\",\r\n\t\t\"img\",\r\n\t\t'$295',\r\n\t\t'Классическая Европа',\r\n\t\t'Вдохновитесь путешествием в Австралию. Откройте для себя фантастические вещи и места, чтобы пойти.',\r\n\t\t'.destination__block'\r\n\t).render();\t\r\n\r\n}\r\n\r\nexport default cards;","function getTicket() {\r\n\tlet mainForm = document.querySelector('.form_main'),\r\n\t\tinputCityTo = document.querySelector('.form__input_city-to'),\r\n\t\tinputCityFrom = document.querySelector('.form__input_city-from'),\r\n\t\tinputDateDapart = document.querySelector('.form__input_date'),\r\n\t\tdropdownCityFrom = document.querySelector('.dropdown-city-from'),\r\n\t\tdropdownCityTo = document.querySelector('.dropdown-city-to'),\r\n\t\tcheapestTicket = document.querySelector('.information-ticket__choose-date'),\r\n\t\totherCheapTickets = document.querySelector('.information-ticket__best-price');\r\n\r\n\tlet city = [];\r\n\r\n\tconst citiesApi = 'js/cities.json';\r\n\tconst apiKey = '8828a95a4d72a0c42c92ddda9dd3bd8d',\r\n\t\tcalendar = 'http://min-prices.aviasales.ru/calendar_preload',\r\n        maxCount = 5;\r\n        \r\n   const getData = (url, callback) => {\r\n        const request = new XMLHttpRequest();\r\n\r\n        request.open('GET', url);\r\n\r\n        request.addEventListener('readystatechange', () => {\r\n            if(request.readyState !== 4) {\r\n                return;\r\n            }\r\n\r\n            if(request.status === 200) {\r\n                callback(request.response);\r\n            } else {\r\n                console.error(request.status);\r\n            }\r\n        });\r\n\r\n        request.send();\r\n    };\r\n\r\n    const showCity = (input, list) => {\r\n        list.textContent = '';\r\n\r\n        if (input.value !== '') {\r\n\r\n            const filterCity = city.filter((item) => {\r\n                if (item.name) {\r\n                    const fixItem = item.name.toLowerCase();\r\n                    return fixItem.startsWith(input.value.toLowerCase());\r\n                }\r\n            });\r\n                \r\n            filterCity.forEach((item) => {\r\n                const dropdownCityItem = document.createElement('li');\r\n                dropdownCityItem.classList.add('drop-list');\r\n\r\n                dropdownCityItem.textContent = item.name;\r\n                list.append(dropdownCityItem);    \r\n            });\r\n        }\r\n    };\r\n\r\n    const chooseCity = (e, list, input) => {\r\n        const target = e.target;\r\n\r\n        if (target.tagName.toLowerCase() === 'li') {\r\n            input.value = target.textContent;\r\n            list.textContent = '';\r\n        }\r\n    };\r\n\r\n    const getNameCity = (code) => {\r\n        const objCity = city.find(item => item.code === code);\r\n        return objCity.name;\r\n    };\r\n\r\n    const getDate = (date) => {\r\n        return new Date (date).toLocaleString('ru', {\r\n            year: 'numeric',\r\n            month: 'long',\r\n            day: 'numeric',\r\n            hour: '2-digit',\r\n            minute: '2-digit'\r\n        });\r\n    };\r\n\r\n    const getLinkAviaseles = (data) => {\r\n        let link = 'https://www.aviasales.ru/search/';\r\n\r\n        link += data.origin;\r\n        \r\n        const date = new Date(data.depart_date);\r\n        const day = date.getDate();\r\n\r\n        link += day < 10 ? '0' + day : day; \r\n\r\n        const month = date.getMonth() + 1;\r\n\r\n        link += month < 10 ? '0' + month : month;\r\n\r\n        link += data.destination;\r\n        link += '1';\r\n\r\n        return link;\r\n    };\r\n\r\n    const createCard = (data) => {\r\n\t\tconst ticketBlock = document.createElement('div');\r\n\t\tticketBlock.classList.add('ticket');\r\n\t\tlet deep = '';\r\n\r\n\t\tif(data) {\r\n\t\t\tdeep = `\r\n\t\t\t<div class=\"ticket__wrap\">\r\n\r\n\t\t\t<div class=\"ticket__btn-wrap\">\r\n\t\t\t\t<a href=\"${getLinkAviaseles(data)}\" target=\"_blank\" class=\"btn btn_buy\">Купить за ${data.value}</a>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"ticket__block\">\r\n\t\t\t\t<div class=\"ticket__transfer-wrap\">\r\n\t\t\t\t\t<div class=\"ticket__transfer-name\">\r\n\t\t\t\t\t\t${data.gate}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"logo\">\r\n\t\t\t\t\t\t<span class=\"icon-plane icon-plane_main-color\"></span>\r\n\t\t\t\t\t\t<a href=\"#\" class=\"logo__text logo__text_dark\">travelly</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"ticket__info\">\r\n\r\n\t\t\t\t\t<div class=\"route route_departure\">\r\n\t\t\t\t\t\t<div class=\"route__time\">\r\n\t\t\t\t\t\t\t19:50\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"route__city \">\r\n\t\t\t\t\t\t\t${getNameCity(data.origin)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"route__date\">\r\n\t\t\t\t\t\t\t${getDate(data.depart_date)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"fly-info\">\r\n\t\t\t\t\t\t<div class=\"fly-info__duration\">\r\n\t\t\t\t\t\t\tВ пути: 1h 30 min\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"fly-info__path\">\r\n\t\t\t\t\t\t\t<div class=\"fly-info__departure\">\r\n\t\t\t\t\t\t\t\t<span class=\"fly-info__path-icon fly-info__path-icon_dep icon-plane\"></span>\r\n\t\t\t\t\t\t\t\t<span class=\"fly-info__path-airport fly-info__path-airport_dep\">${data.origin}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"fly-info__connector\"></div>\r\n\t\t\t\t\t\t\t<div class=\"fly-info__arrival\">\r\n\t\t\t\t\t\t\t\t<span class=\"fly-info__path-icon fly-info__path-icon_arrival icon-plane\"></span>\r\n\t\t\t\t\t\t\t\t<span class=\"fly-info__path-airport fly-info__path-airport_arrival\">${data.destination}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div><!--fly-info__path-->\r\n\t\t\t\t\t</div><!--fly-info-->\r\n\r\n\t\t\t\t\t<div class=\"route route_arrival\">\r\n\t\t\t\t\t\t<div class=\"route__time\">\r\n\t\t\t\t\t\t\t21:20\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"route__city\">\r\n\t\t\t\t\t\t\t${getNameCity(data.destination)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"route__date\">\r\n\t\t\t\t\t\t\t${getDate(data.depart_date)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>      \r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>`;\r\n\t\t} else {\r\n\t\t\tdeep = '<h3> Билетов на выбранную дату нет!</h3>';\r\n\t\t}\r\n\r\n\t\tticketBlock.insertAdjacentHTML('beforeend', deep);\r\n\r\n\t\treturn ticketBlock;\r\n    };\r\n    \r\n        \r\n    const renderCheapDay = (cheapTicket) => {\r\n\t\tconst ticket = createCard(cheapTicket[0]);\r\n\t\tcheapestTicket.append(ticket);\r\n\t};\r\n\r\n\tconst renderCheapYear = (cheapTickets) => {\r\n\t\tcheapTickets.sort((a, b) => a.value - b.value);\r\n\r\n\t\tfor (let i = 0; i < cheapTickets.length && i < maxCount; i++) {\r\n\t\t\tconst ticket = createCard(cheapTickets[i]);\r\n\t\t\totherCheapTickets.append(ticket);\r\n\t\t}\r\n\t\tconsole.log(cheapTickets);\r\n\t};\r\n\r\n\tconst renderCheap = (data, when) =>{\r\n\t\tconst cheapTicketYear = JSON.parse(data).best_prices;\r\n\t\t\r\n\t\tconst cheapTicketDay = cheapTicketYear.filter((item) => {\r\n\t\t\treturn item.depart_date === when;\r\n\t\t});\r\n\t\t\r\n\t\trenderCheapDay(cheapTicketDay);\r\n\t\trenderCheapYear(cheapTicketYear);\r\n\t\r\n\t};\r\n    \r\n    mainForm.addEventListener('submit', (e) => {\r\n\t\te.preventDefault();\r\n\t\tcheapestTicket.innerHTML = ' <h3 class=\"title\">Самый дешевый билет на выбранную дату</h3>';\r\n\t\totherCheapTickets.innerHTML =  ' <h3 class=\"title\">Самые дешевые билеты на другие даты</h3>';\r\n\r\n\t\tconst cityFrom = city.find((item) => {\r\n\t\t\treturn inputCityFrom.value === item.name;\r\n\t\t});\r\n\t\t\r\n\t\tconst cityTo = city.find((item) => {\r\n\t\t\treturn inputCityTo.value === item.name;\r\n\t\t});\r\n\r\n\t\tconst formData = {\r\n\t\t\tfrom: cityFrom,\r\n\t\t\tto: cityTo,\r\n\t\t\twhen: inputDateDapart.value\r\n\t\t};\r\n\r\n\t\tif (formData.from && formData.to) {\r\n\r\n\t\t\tconst requestData = `?derapt_date=${formData.when}&origin=${formData.from.code}&destination=${formData.to.code}&one_way=true&token${apiKey}`;\r\n\r\n\t\t\tgetData(calendar + requestData,(response) => {\r\n\t\t\t\trenderCheap(response, formData.when);\r\n\t\t\t});\r\n\r\n\t\t} else {\r\n\t\t\tcheapestTicket.innerHTML = ' <h3 class=\"title\">Введите корректные данные!</h3>';\r\n\t\t\totherCheapTickets.innerHTML =  '';\r\n\t\t}\t\r\n\t});\r\n\r\n    inputCityFrom.addEventListener('input', () => {\r\n        showCity(inputCityFrom, dropdownCityFrom);\r\n    });\r\n    \r\n    inputCityTo.addEventListener('input', () => {\r\n        showCity(inputCityTo, dropdownCityTo);\r\n    });\r\n    \r\n    dropdownCityFrom.addEventListener('click', () => {\r\n        chooseCity(event, dropdownCityFrom, inputCityFrom);\r\n    });\r\n    \r\n    dropdownCityTo.addEventListener('click', () => {\r\n        chooseCity(event, dropdownCityTo, inputCityTo);\r\n    });\r\n\r\n    getData(citiesApi, (data) => {\r\n\t\tcity = JSON.parse(data);\r\n\t\tcity.sort((a, b) => {\r\n\t\t\tif (a.name > b.name) {\r\n\t\t\t  return 1;\r\n\t\t\t}\r\n\t\t\tif (a.name < b.name) {\r\n\t\t\t  return -1;\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t});\r\n\t});\r\n}\r\nexport default getTicket;","function humburger(humburgerSelector, menuSelector, humburgerActiveClass, menuActiveClass) {\r\n\r\n    const humburger = document.querySelector(humburgerSelector),\r\n             menu = document.querySelector(menuSelector),\r\n             menuActive = document.querySelector(menuActiveClass),\r\n             humburgerActive = document.querySelector(humburgerActiveClass);\r\n\r\n\r\n    humburger.addEventListener('click', () => {\r\n        humburger.classList.toggle(humburgerActive);\r\n        menu.classList.toggle(menuActive);\r\n    });\r\n}\r\n\r\nexport default humburger;","import\thumburger from './modules/humburger';\r\nimport\tcards from './modules/cards';\r\nimport getTicket from './modules/getTicket';\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n\t'use strict';\r\n\tcards();\r\n\thumburger('.humburger', '.menu', 'humburger_active', 'menu_active');\r\n\tgetTicket();\r\n\r\n});"],"sourceRoot":""}